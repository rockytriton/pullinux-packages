tar -xf $filename
pckname=${filename%.t*}

cd dhcp-4.4.2 || cd $pckname

sed -i '/o.*dhcp_type/d' server/mdb.c &&
sed -r '/u.*(local|remote)_port/d'    \
    -i client/dhclient.c              \
       relay/dhcrelay.c

( export CFLAGS="${CFLAGS:--g -O2} -Wall -fno-strict-aliasing                 \
        -D_PATH_DHCLIENT_SCRIPT='\"/sbin/dhclient-script\"'         \
        -D_PATH_DHCPD_CONF='\"/etc/dhcp/dhcpd.conf\"'               \
        -D_PATH_DHCLIENT_CONF='\"/etc/dhcp/dhclient.conf\"'"        &&

./configure --prefix=/usr                                           \
            --sysconfdir=/etc/dhcp                                  \
            --localstatedir=/var                                    \
            --with-srv-lease-file=/var/lib/dhcpd/dhcpd.leases       \
            --with-srv6-lease-file=/var/lib/dhcpd/dhcpd6.leases     \
            --with-cli-lease-file=/var/lib/dhclient/dhclient.leases \
            --with-cli6-lease-file=/var/lib/dhclient/dhclient6.leases
) &&
make -j1

make -C client DESTDIR=$pckdir install

mkdir -p $pckdir/sbin
mv -v $pckdir/usr/sbin/dhclient $pckdir/sbin &&
install -v -m755 client/scripts/linux $pckdir/sbin/dhclient-script


#KMOD
#[*] Networking support --->        [CONFIG_NET]
#      Networking options --->
#        <*> Packet socket          [CONFIG_PACKET]
#        <*> The IPv6 Protocol ---> [CONFIG_IPV6]

